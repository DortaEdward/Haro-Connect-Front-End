{"remainingRequest":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/Login.vue?vue&type=style&index=0&id=ef68022e&lang=scss","dependencies":[{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/Login.vue","mtime":1626278509610},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1624994109000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci51c2VyLWZvcm0tY29udGFpbmVyewogIG1hcmdpbjogMCBhdXRvOwogIHdpZHRoOiA0MHZ3Owp9Ci5mb3JtLWdyb3VwewogIG1hcmdpbjoxcmVtIDA7Cn0KLnVzZXItZm9ybXsKICBtYXJnaW46My41cmVtIDA7Cn0K"},{"version":3,"sources":["/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/Login.vue"],"names":[],"mappings":";AAuEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACb;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACf;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACjB","file":"/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"user-form-container\">\n    <div class='log-in-container'>\n      <form @submit.prevent=\"logInReq\" class='user-form'>\n      <div class=\"form-group\">\n        <label for=\"exampleInputEmail1\">Username</label>\n        <input\n        v-model='username'\n        type=\"username\"\n        class=\"form-control\"\n        placeholder=\"Enter Username\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"exampleInputPassword1\">\n          Password\n        </label>\n        <input\n        v-model=\"password\"\n        type=\"password\"\n        class=\"form-control\"\n        placeholder=\"Password\">\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n    </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\n\nexport default {\n  setup() {\n    const username = ref('');\n    const password = ref('');\n    const router = useRouter();\n    const store = useStore();\n    const userData = computed(() => store.state.userData);\n\n    const logInReq = async () => {\n      const loginUrl = `${process.env.VUE_APP_BASE_APIURL}/auth/login`;\n      const response = await fetch(loginUrl, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n        },\n        body: JSON.stringify({\n          username: username.value,\n          password: password.value,\n        }),\n      });\n      const { tokken } = await response.json();\n      if (response.ok) {\n        localStorage.tokken = tokken;\n        store.state.loggedIn = true;\n        router.push({ name: 'Home' });\n      }\n    };\n\n    return {\n      username,\n      password,\n      logInReq,\n      userData,\n    };\n  },\n};\n</script>\n<style lang='scss'>\n.user-form-container{\n  margin: 0 auto;\n  width: 40vw;\n}\n.form-group{\n  margin:1rem 0;\n}\n.user-form{\n  margin:3.5rem 0;\n}\n</style>\n"]}]}