{"remainingRequest":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/babel-loader/lib/index.js!/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/PostUpdate.vue?vue&type=template&id=429ff339","dependencies":[{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/PostUpdate.vue","mtime":1626700633864},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1624994109000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJmb3JtLWdyb3VwIG15LTEiCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgewogIGNsYXNzOiAibXktNCIKfSwgIkNvbnRlbnQiLCAtMQovKiBIT0lTVEVEICovCik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZm9ybSIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfaG9pc3RlZF8zLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJ0ZXh0YXJlYSIsIHsKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuY29udGVudFJlZiA9ICRldmVudDsKICAgIH0pLAogICAgdHlwZTogInRleHQiLAogICAgY2xhc3M6ICJmb3JtLWNvbnRyb2wiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5jb250ZW50UmVmXV0pXSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogImJ1dHRvbiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC51cGRhdGVQb3N0ICYmICRzZXR1cC51cGRhdGVQb3N0LmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJidG4gYnRuLXByaW1hcnkgbXktMSIKICB9LCAiU3VibWl0IFVwZGF0ZSIpXSk7Cn0="},{"version":3,"sources":["/Users/edwarddorta/dev/portfolio/haro-connects/client/src/components/PostUpdate.vue"],"names":[],"mappings":";;AACQ,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAmC,OAAnC,EAAmC;AAA5B,EAAA,KAAK,EAAC;AAAsB,CAAnC,EAAoB,SAApB,EAA2B,CAAA;AAAA;AAA3B,C;;;uBAFJ,YAAA,CAYO,MAZP,EAAA,UAAA,EAYO,CAXL,YAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,UAKI,E,gBAJJ,YAAA,CAGsB,UAHtB,EAGsB;;aAFb,MAAA,CAAA,UAAA,GAAU,M;MAEG;AADtB,IAAA,IAAI,EAAC,MACiB;AAAtB,IAAA,KAAK,EAAC;AAAgB,GAHtB,E,IAAA,E;;AAAA,G,iBACS,MAAA,CAAA,U,GAGL,CANN,CAWK,EAJL,YAAA,CAGqD,QAHrD,EAGqD;AAFnD,IAAA,IAAI,EAAC,QAE8C;AADlD,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,UAAA,IAAA,MAAA,CAAA,UAAA,OAAA,MAAA,YAAF;AAAA,KAAA,CAC6C;AAAnD,IAAA,KAAK,EAAC;AAA6C,GAHrD,EAG+B,eAH/B,CAIK,CAZP,C","sourcesContent":["<template>\n  <form class='container'>\n    <div class=\"form-group my-1\">\n      <label class='my-4'>Content</label>\n      <textarea\n      v-model=\"contentRef\"\n      type=\"text\"\n      class=\"form-control\"/>\n    </div>\n    <button\n      type=\"button\"\n      @click='updatePost'\n      class=\"btn btn-primary my-1\">Submit Update</button>\n  </form>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const contentRef = ref('');\n    const route = useRoute();\n    const router = useRouter();\n    const getPost = async (id) => {\n      if (localStorage.tokken) {\n        const url = `${process.env.VUE_APP_BASE_APIURL}/api/v1/posts/${id}`;\n        console.log(url);\n        const response = await fetch(url, {\n          headers: {\n            Authorization: `Bearer ${localStorage.tokken}`,\n          },\n        });\n        const json = await response.json();\n        contentRef.value = json.data.content;\n      }\n    };\n    const updatePost = async () => {\n      if (localStorage.tokken) {\n        console.log(contentRef.value);\n        const url = `${process.env.VUE_APP_BASE_APIURL}/api/v1/posts/update/${route.params.postId}`;\n        const response = await fetch(url, {\n          method: 'PUT',\n          headers: {\n            Authorization: `Bearer ${localStorage.tokken}`,\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            content: contentRef.value,\n          }),\n        });\n        console.log(await response.json());\n        if (response.ok) {\n          router.push({ name: 'Home' });\n        }\n      }\n    };\n\n    onMounted(() => {\n      getPost(route.params.postId);\n    });\n    return {\n      contentRef,\n      updatePost,\n    };\n  },\n};\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}]}