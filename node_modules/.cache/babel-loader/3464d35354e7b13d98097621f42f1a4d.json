{"remainingRequest":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/babel-loader/lib/index.js!/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/edwarddorta/dev/portfolio/haro-connects/client/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/src/views/Home.vue","mtime":1626700539488},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edwarddorta/dev/portfolio/haro-connects/client/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lZHdhcmRkb3J0YS9kZXYvcG9ydGZvbGlvL2hhcm8tY29ubmVjdHMvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgb25CZWZvcmVNb3VudCwgb25Nb3VudGVkLCBjb21wdXRlZCwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBwb3N0Q29udGVudCA9IHJlZignJyk7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHVzZXJMb2dnZWRJbiA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmxvZ2dlZEluOwogICAgfSk7CiAgICB2YXIgcG9zdHMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5wb3N0czsKICAgIH0pOwogICAgdmFyIHVzZXJEYXRhID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUudXNlckRhdGE7CiAgICB9KTsKICAgIG9uQmVmb3JlTW91bnQoZnVuY3Rpb24gKCkgewogICAgICBpZiAobG9jYWxTdG9yYWdlLnRva2tlbikgewogICAgICAgIHN0b3JlLnN0YXRlLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBzdG9yZS5kaXNwYXRjaCgnZ2V0UG9zdHMnKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ2dldFVzZXJEYXRhJyk7CiAgICB9KTsKCiAgICB2YXIgZGVsZXRlUG9zdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGlkKSB7CiAgICAgICAgdmFyIGNyZWF0ZVVybCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY3JlYXRlVXJsID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUElVUkwsICIvYXBpL3YxL3Bvc3RzL2RlbGV0ZS8iKS5jb25jYXQoaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goY3JlYXRlVXJsLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KGxvY2FsU3RvcmFnZS50b2trZW4pLAogICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2dldFBvc3RzJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZGVsZXRlUG9zdChfeCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGNyZWF0ZVBvc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjcmVhdGVVcmwsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjcmVhdGVVcmwgPSAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSVVSTCwgIi9hcGkvdjEvcG9zdHMvY3JlYXRlIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goY3JlYXRlVXJsLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UudG9ra2VuKSwKICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBwb3N0Q29udGVudC52YWx1ZQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdnZXRQb3N0cycpOwogICAgICAgICAgICAgICAgICBwb3N0Q29udGVudC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlUG9zdCgpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICBwb3N0czogcG9zdHMsCiAgICAgIHVzZXJMb2dnZWRJbjogdXNlckxvZ2dlZEluLAogICAgICBwb3N0Q29udGVudDogcG9zdENvbnRlbnQsCiAgICAgIGNyZWF0ZVBvc3Q6IGNyZWF0ZVBvc3QsCiAgICAgIHVzZXJEYXRhOiB1c2VyRGF0YSwKICAgICAgZGVsZXRlUG9zdDogZGVsZXRlUG9zdAogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/edwarddorta/dev/portfolio/haro-connects/client/src/views/Home.vue"],"names":[],"mappings":";;;;AAmEA,SACE,aADF,EAEE,SAFF,EAGE,QAHF,EAIE,GAJF,QAKO,KALP;AAMA,SAAS,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACb,EAAA,KADa,mBACL;AACN,QAAM,WAAU,GAAI,GAAG,CAAC,EAAD,CAAvB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,YAAW,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAN,CAAY,QAAlB;AAAA,KAAD,CAA7B;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAN,CAAY,KAAlB;AAAA,KAAD,CAAtB;AACA,QAAM,QAAO,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAN,CAAY,QAAlB;AAAA,KAAD,CAAzB;AAEA,IAAA,aAAa,CAAC,YAAM;AAClB,UAAI,YAAY,CAAC,MAAjB,EAAyB;AACvB,QAAA,KAAK,CAAC,KAAN,CAAY,QAAZ,GAAuB,IAAvB;AACF;AACD,KAJY,CAAb;AAKA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,KAAK,CAAC,QAAN,CAAe,UAAf;AACA,MAAA,KAAK,CAAC,QAAN,CAAe,aAAf;AACD,KAHQ,CAAT;;AAIA,QAAM,UAAS;AAAA,yEAAI,iBAAO,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,gBAAA,SADW,aACI,OAAO,CAAC,GAAR,CAAY,mBADhB,kCAC2D,EAD3D;AAAA;AAAA,uBAEM,KAAK,CAAC,SAAD,EAAY;AACtC,kBAAA,MAAM,EAAE,QAD8B;AAEtC,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,mBAAY,YAAY,CAAC,MAAzB,CADN;AAEP,oCAAgB;AAFT;AAF6B,iBAAZ,CAFX;;AAAA;AAEX,gBAAA,QAFW;;AASjB,oBAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,kBAAA,KAAK,CAAC,QAAN,CAAe,UAAf;AACF;;AAXiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAT,UAAS;AAAA;AAAA;AAAA,OAAf;;AAaA,QAAM,UAAS;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,gBAAA,SADW,aACI,OAAO,CAAC,GAAR,CAAY,mBADhB;AAAA;AAAA,uBAEM,KAAK,CAAC,SAAD,EAAY;AACtC,kBAAA,MAAM,EAAE,MAD8B;AAEtC,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,mBAAY,YAAY,CAAC,MAAzB,CADN;AAEP,oCAAgB;AAFT,mBAF6B;AAMtC,kBAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AACnB,oBAAA,OAAO,EAAE,WAAW,CAAC;AADF,mBAAf;AANgC,iBAAZ,CAFX;;AAAA;AAEX,gBAAA,QAFW;;AAYjB,oBAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,kBAAA,KAAK,CAAC,QAAN,CAAe,UAAf;AACA,kBAAA,WAAW,CAAC,KAAZ,GAAoB,EAApB;AACF;;AAfiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAT,UAAS;AAAA;AAAA;AAAA,OAAf;;AAkBA,WAAO;AACL,MAAA,KAAK,EAAL,KADK;AAEL,MAAA,YAAY,EAAZ,YAFK;AAGL,MAAA,WAAW,EAAX,WAHK;AAIL,MAAA,UAAU,EAAV,UAJK;AAKL,MAAA,QAAQ,EAAR,QALK;AAML,MAAA,UAAU,EAAV;AANK,KAAP;AAQD;AAxDY,CAAf","sourcesContent":["<template>\n  <div class=\"home\">\n    <div v-if='!userLoggedIn'>\n      <h2 class='landing-title py-4'>Haro Connects</h2>\n      <div class=\"content-container py-2\">\n        <div class=\"not-logged-in\">\n          <div class=\"landing-img\">\n            <img\n            src=\"@/../public/landingPicture.png\"\n            alt=\"landing page img\"\n            class='landing-page-img'>\n          </div>\n          <div class=\"landing-content\">\n            <p>Lorem ipsum dolor sit amet, consectetur\n              adipiscing elit, sed do eiusmod tempor\n              incididunt ut labore et dolore magna aliqua.\n              Morbi tempus iaculis urna id. Nec dui nunc\n              mattis enim ut tellus elementum sagittis.\n              Cursus mattis molestie a iaculis at erat\n              pellentesque.</p>\n            <router-link to=\"/login\" class=\"\">\n              <button type=\"button\" class=\"btn btn-success\">Log In</button>\n            </router-link>\n            <router-link to=\"/signup\" class=\"\">\n              <button type=\"button\" class=\"btn btn-warning\">Sign Up</button>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if='userLoggedIn' class='container'>\n      <div class=\"create-post-container\">\n        <form @submit.prevent=\"createPost\">\n          <div class=\"form-group\">\n            <input\n            v-model=\"postContent\"\n              class=\"form-control\"\n              rows=\"2\"\n              placeholder=\"What's on your mind\" />\n            <button type=\"submit\" class=\"btn btn-primary mt-2\">Submit</button>\n          </div>\n        </form>\n      </div>\n      <div\n        v-for='post in posts'\n        :key='post._id'\n        class=\"card post-card\">\n        <p class='card-text post-text'>{{post.content}}</p>\n        <p class='card-subtitle mt-2 post-author'>Author: {{post.author || 'none'}}</p>\n        <div\n          class=\"options\"\n          v-if=\"post.author === userData.username\">\n          <router-link\n          :to=\"{\n          name:'PostUpdate',\n          params:{postId:post._id}\n          }\">\n          <small class='update-btn'>Update Post</small>\n          </router-link>\n          <small @click=\"deletePost(post._id)\" class='delete-btn'>Delete Post</small>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  onBeforeMount,\n  onMounted,\n  computed,\n  ref,\n} from 'vue';\nimport { useStore } from 'vuex';\n\nexport default {\n  setup() {\n    const postContent = ref('');\n    const store = useStore();\n    const userLoggedIn = computed(() => store.state.loggedIn);\n    const posts = computed(() => store.state.posts);\n    const userData = computed(() => store.state.userData);\n\n    onBeforeMount(() => {\n      if (localStorage.tokken) {\n        store.state.loggedIn = true;\n      }\n    });\n    onMounted(() => {\n      store.dispatch('getPosts');\n      store.dispatch('getUserData');\n    });\n    const deletePost = async (id) => {\n      const createUrl = `${process.env.VUE_APP_BASE_APIURL}/api/v1/posts/delete/${id}`;\n      const response = await fetch(createUrl, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${localStorage.tokken}`,\n          'content-type': 'application/json',\n        },\n      });\n      if (response.ok) {\n        store.dispatch('getPosts');\n      }\n    };\n    const createPost = async () => {\n      const createUrl = `${process.env.VUE_APP_BASE_APIURL}/api/v1/posts/create`;\n      const response = await fetch(createUrl, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${localStorage.tokken}`,\n          'content-type': 'application/json',\n        },\n        body: JSON.stringify({\n          content: postContent.value,\n        }),\n      });\n      if (response.ok) {\n        store.dispatch('getPosts');\n        postContent.value = '';\n      }\n    };\n\n    return {\n      posts,\n      userLoggedIn,\n      postContent,\n      createPost,\n      userData,\n      deletePost,\n    };\n  },\n};\n</script>\n<style lang='scss'>\n.home{\n  padding-top:1rem;\n}\n.not-logged-in{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n}\n.landing-page-img{\n  height: 45vh;\n}\n.landing-content{\n  width:45vw;\n  .btn{\n    transform:scale(0.9);\n  }\n  .btn:hover{\n    transform:scale(1);\n  }\n}\n.landing-img, .landing-content{\n  margin: 0 1rem;\n  padding: 0 1rem;\n}\n.btn-container{\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  button{\n    margin: 0 2rem;\n    width:8rem;\n  }\n}\n.create-post-container{\n  border:1px solid black;\n  display: flex;\n  flex-direction: column;\n  input{\n    text-align: center;\n  }\n}\n.create-post-container, .post-card {\n  background-color:white;\n}\n.post-card{\n  margin:0.4rem 0;\n  padding:1rem 0;\n  text-decoration: none;\n  color:black;\n}\n.post-card:hover{\n  color:black;\n}\n.post-text{\n  font-size: 20px;\n  font-weight: 450;\n}\n.options{\n  margin:0.4rem 5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.delete-btn, .update-btn{\n  padding:0.5rem;\n  border: 1px solid;\n  border-radius:10px;\n}\n.delete-btn{\n  border: 1px solid red;\n  color:red;\n}\n.delete-btn:hover, .update-btn:hover{\n  color:grey;\n}\n@media screen and (max-width: 375px) {\n  .not-logged-in {\n    display: flex;\n    flex-direction: column;\n    .landing-title{\n      margin:1rem auto;\n    }\n    .landing-page-img{\n      width:90px;\n      height:90px;\n      margin-bottom:2rem;\n    }\n    .landing-content{\n      width:350px;\n    }\n  }\n}\n@media screen and (max-width: 414px) {\n  .not-logged-in {\n    display: flex;\n    flex-direction: column;\n    .landing-title{\n      margin:1rem auto;\n    }\n    .landing-page-img{\n      width:90px;\n      height:90px;\n      margin-bottom:2rem;\n    }\n    .landing-content{\n      width:350px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}